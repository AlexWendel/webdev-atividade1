<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Atividade 1- WebDev 1</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/brands.min.css" integrity="sha512-nS1/hdh2b0U8SeA8tlo7QblY6rY6C+MgkZIeRzJQQvMsFfMQFUKp+cgMN2Uuy+OtbQ4RoLMIlO2iF7bIEY3Oyg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js" integrity="sha512-RNLkV3d+aLtfcpEyFG8jRbnWHxUqVZozacROI4J2F1sTaDqo1dPQYs01OMi1t1w9Y2FdbSCDSQ2ZVdAC8bzgAg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script id="atividade-template" type="text/x-handlebars-template">
            {{#atividades}}
            <section>        
                <h1 class="section-header">{{titulo}}</h1>
                <h1 class="has-text-weight-semibold">Alunos:</h1>
                <div class="names-wrapper">
                    {{#alunos}}
                        <p>{{nome}}</p>
                    {{/alunos}}            
                </div>           
            
                <div class="wrapper">
                    <div class="questoes">
                        <h1 class="has-text-weight-semibold">Questões:</h1>
                        {{#questoes}}
                            <a href="{{url}}" title="Ir para questão {{questao}}">{{questao}}</a>
                        {{/questoes}}
                    </div>
                </div>
            
                <div class="github-link">
                    <a class="nav-link" href="{{url_repositorio}}">
                        <i class="fa-brands fa-github"></i>
                        Github
                    </a>
                </div>
            </section>
            {{/atividades}}    
        </script>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
    <header>
        <h1 class="h1 is-size-3">Desenvolvimento para Web I</h1>     
    </header>

    <main>    
    </main>
    <script>
        // Renderizar todas as atividades usando o template do mustache
        fetch("atividades.json").then((data)=> data.json()).then((data) =>{
            var template = document.getElementById("atividade-template").innerHTML;
            var compiledTemplate = Handlebars.compile(template);
            var result = compiledTemplate(data);
            var main = document.getElementsByTagName("main")[0];
            main.innerHTML = result;
        });
    </script>    
    </body>
</html>